---
import Input from './Input/Input.astro';
import TextArea from './TextArea/TextArea.astro';
import Checkbox from './Checkbox/Checkbox.astro';
---

<form
    id="contact-form"
    name="contact-form"
    action="/en/uzenet-elkuldve/"
    data-netlify="true"
    data-netlify-honeypot="bot-field"
    method="POST"
>
    <input type="hidden" name="form-name" value="contact-form" />

    <!-- Bot mező Netlify spam védelemhez -->
    <div hidden>
        <input name="bot-field" />
    </div>

    <div class="row gap-1 mb-10px">
        <div class="col-12-xs col-6-md">
            <!-- Név mező -->
            <Input
                id="name"
                name="name"
                type="text"
                placeholder="Name"
                title="You can only enter letters in this field!"
            />
        </div>
        <div class="col-12-xs col-6-md">
            <!-- Email mező -->
            <Input id="email" name="email" type="email" placeholder="Email" />
        </div>
    </div>

    <!-- Üzenet mező -->
    <div class="row">
        <TextArea id="comment" name="comment" placeholder="Message" rows={5} />
    </div>

    <!-- Checkbox mező -->
    <div class="row mb-20px">
        <Checkbox id="terms" name="terms" lang="en" />
    </div>

    <!-- Beküldés gomb -->
    <div class="row mb-40px">
        <button type="submit" class="btn btn--width-full-mobile btn--secondary--solid">Send</button>
    </div>
</form>

<script>
    import { submitContact } from './submitContact';

    const form = document.getElementById('contact-form');
    const language = 'en';

    form?.addEventListener('submit', (event) => {
        submitContact(event, language);
    });
</script>
