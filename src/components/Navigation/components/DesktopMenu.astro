---
import './_desktopMenu.scss';
---

<div id="desktopMenu">
    <div class="off-canvas-menu">
        <div class="menu-item" id="menu1">
            <div><h3 id="jogaorak-label-desktop">JÓGAÓRÁK</h3></div>
            <div id="jogaorak-desktop" class="dropdown-menu__content"></div>
        </div>
        <div class="menu-item" id="menu2">
            <div><h3 id="tudnivalok-label-desktop">TUDNIVALÓK</h3></div><div
                id="tudnivalok-desktop"
                class="dropdown-menu__content"
            >
            </div>
        </div>
        <div class="menu-item" id="menu3">
            <div id="fomenuItems-desktop"></div>
        </div>
    </div>
</div>

<script>
    import { useTranslations, useTranslatedPath } from '../../../i18n/utils.js';
    import { initMenu, initMenuComponents } from './menuLogic.js';

    const language = window.location.href.includes('en') ? 'en' : 'hu';
    const t = useTranslations(language);
    const translatePath = useTranslatedPath(language);

    // Initialize components with menu logic
    initMenuComponents(language, t, [
        {
            toggleId: 'menu1',
            contentId: 'jogaorak-desktop',
            labelId: 'jogaorak-label-desktop',
            labelTextKey: 'jogaorak',
        },
        {
            toggleId: 'menu2',
            contentId: 'tudnivalok-desktop',
            labelId: 'tudnivalok-label-desktop',
            labelTextKey: 'tudnivalok',
        },
    ]);

    const jogorakList = document.getElementById('jogaorak-desktop');
    const tudnivalokList = document.getElementById('tudnivalok-desktop');
    const fomenuItems = document.getElementById('fomenuItems-desktop');

    // Populate menu items dynamically
    initMenu(language, translatePath, t, jogorakList, tudnivalokList, fomenuItems);
</script>
