---
import { useTranslations, useTranslatedPath } from '../../../i18n/index.ts';
import { getMobileMenuFooter } from '../data/menuData.js';

// Javított nyelvi detektálás a szerver oldalon
const currentUrl = Astro.url.pathname;
const language = currentUrl.startsWith('/en/') || currentUrl === '/en' ? 'en' : 'hu';

const t = useTranslations(language);
const translatePath = useTranslatedPath(language);
const mobileMenuFooterItems = getMobileMenuFooter(translatePath, t);
---

<div class="mobile-menu mobile-menu--footer">
    {
        mobileMenuFooterItems.map((item) => (
            <a href={item.link} class="mobile-menu-header__link btn btn--secondary--outline">
                {item.label}
            </a>
        ))
    }
</div>
<script>
    import { useTranslatedPath, useTranslations } from '../../../i18n/index.ts';

    document.addEventListener('DOMContentLoaded', () => {
        // Javított nyelvi detektálás a kliens oldalon is
        const currentPath = window.location.pathname;
        const language = currentPath.startsWith('/en/') || currentPath === '/en' ? 'en' : 'hu';

        const t = useTranslations(language);
        const translatePath = useTranslatedPath(language);
    });
</script>
