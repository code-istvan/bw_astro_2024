---
import BaseLayout from '../layouts/BaseLayout.astro';
import GoogleMap from '../components/GoogleMap/GoogleMap';
import contactMapImage from '../images/contact_map.jpg';
import { Input } from '../components/Input/Input';

const pageTitle = 'Kapcsolat';

const metadata = {
    title: 'KAPCSOLAT',
    description: 'Ezen az oldalon találod a kapcsolatfelvételhez szükséges elérhetőségeinket.',
};

const googleMapsUrl = 'https://www.google.com/maps?q=47.51416,19.03734';
const wazeUrl = 'https://waze.com/ul?ll=47.51416,19.51416&navigate=yes';
---

<BaseLayout title={metadata.title} description={metadata.description} image={contactMapImage}>
    <!-- <div class="container">
        <div class="row"><h1>{pageTitle}</h1></div>
    </div> -->
    <GoogleMap client:only="react" />
    <div class="container">
        <div class="row gap-1 hidden-desktop">
            <div class="col-6-xs">
                <a
                    href={googleMapsUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn--full-width-mobile btn--primary--outline mt-20px"
                    aria-label="Nyisd meg Google Maps-ben"
                >
                    Google Maps
                </a>
            </div>
            <div class="col-6-xs">
                <a
                    href={wazeUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn--full-width-mobile btn--primary--outline mt-20px"
                    aria-label="Nyisd meg a Waze-ben"
                >
                    Waze
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <h1 class="kapcsolat-title mb-20px">Kapcsolat</h1>
            </div>
        </div>

        <div class="row gap-1">
            <div class="col-12-xs col-6-md">
                <address>
                    <h3 class="mb-0">Bandha Works Jógaiskola</h3>
                    <div class="inline-flex-text">
                        <p>Cím:</p>
                        <a
                            href={googleMapsUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="clr-brand-orange"
                            aria-label="Nyisd meg Google Maps-ben"
                        >
                            <p>1027 Budapest, Frankel Leó út 18.</p>
                        </a>
                    </div>
                </address>
                <p class="clr-shades-lightGray mt-20px">
                    <strong>
                        A bejárat az utcafrontról nyílik, a társasházi főbejárattól balra található barna ajtón tudsz
                        bejönni hozzánk.
                    </strong>
                </p>
                <p class="clr-shades-lightGray mt-20px">
                    Parkolási zónakód az utcában: <strong>0201</strong>. Hétfőtől péntekig 8:30-22:00-ig kell fizetni a
                    parkolásért.
                </p>

                <div class="kapcsolat-modal-box">
                    <!-- Modal aktiválása egy rejtett checkbox-al -->
                    <input type="checkbox" id="modal-toggle" class="modal-toggle" />

                    <!-- Sötétített háttér overlay -->
                    <div class="kapcsolat-background-overlay"></div>

                    <!-- Overlay -->
                    <div class="kapcsolat-modal-overlay"></div>

                    <!-- Modal doboz -->
                    <div class="kapcsolat-modal">
                        <div class="modal-content">
                            <h3 class="mb-20px">Hol az email címünk?</h3>
                            <p class="mb-20px">
                                A weboldalunkon a biztonság és adatvédelem kiemelt prioritást élvez. Ennek érdekében,
                                hogy elkerüljük a nem kívánt spam üzeneteket és az adathalászati kísérleteket,
                                döntöttünk úgy, hogy nem tesszük közzé az email címünket.
                            </p>
                            <p>
                                Üzenj nekünk az oldalon található üzenetküldő űrlapon keresztül. Ha rendben megkaptuk
                                üzeneted, akkor erről egy automata visszaigazoló emailt fogsz kapni.
                            </p>
                            <!-- Modal bezárása -->
                            <label for="modal-toggle" class="close-btn">Bezárás</label>
                        </div>
                    </div>
                    <!-- Modal megnyitása -->
                    <label for="modal-toggle" class="link-enhanced link-orange btn btn--plain--naked">
                        Hol az email címünk?
                    </label>
                </div>
            </div>
            <div class="col-12-xs col-6-md">
                <h1>Form</h1>
                <div class="row mt-40px mb-40px">
                    <Input client:only="react" type="text" placeholder="Név" id="name" />
                </div>
            </div>
        </div>
    </div>
</BaseLayout>

<style>
    .modal-toggle {
        display: none;
    }

    /* Overlay alapértelmezetten rejtett */
    .kapcsolat-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5); /* Átlátszó fekete */
        opacity: 0;
        visibility: hidden;
        transition:
            opacity 0.3s ease,
            visibility 0.3s ease;
        z-index: 999;
    }

    /* Sötétített háttér overlay */
    .kapcsolat-background-overlay {
        opacity: 0;
        visibility: hidden;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.7); /* Sötétebb fekete overlay */
        z-index: 998; /* Az overlay a tartalom fölé, de a modal alá kerül */
        transition:
            opacity 0.3s ease,
            visibility 0.3s ease;
    }

    /* Overlay megjelenése modal nyitásakor */
    .modal-toggle:checked ~ .kapcsolat-background-overlay {
        opacity: 1;
        visibility: visible;
    }

    /* Modal alapértelmezetten rejtett */
    .kapcsolat-modal {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #f5f5f5;
        color: #000;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        width: 90%;
        max-width: 500px;
        padding: 20px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition:
            opacity 0.3s ease,
            visibility 0.3s ease;
    }

    /* Checkbox bekapcsolása esetén az overlay megjelenik */
    .modal-toggle:checked ~ .kapcsolat-modal-overlay {
        opacity: 1;
        visibility: visible;
    }

    /* Checkbox bekapcsolása esetén a modal megjelenik */
    .modal-toggle:checked ~ .kapcsolat-modal {
        opacity: 1;
        visibility: visible;
    }

    /* Checkbox bekapcsolása esetén a fő tartalom halványodik */
    .modal-toggle:checked ~ .main-content {
        filter: brightness(1%); /* Halványítás */
        pointer-events: none; /* Nem kattintható */
    }

    /* Modal tartalom stílusok */
    .modal-content {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* Bezáró gomb */
    .close-btn {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #ff6600;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-align: center;
        display: inline-block;
    }

    .close-btn:hover {
        background-color: #cc5200;
    }
</style>
